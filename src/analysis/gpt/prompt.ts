import { CreateAnalysisDTO } from '../dto/analysis.dto';

export function getPromptByDiary(content: string) {
  return `너는 감정 분석기야.

사용자가 작성한 일기에서 드러나는 감정 단어(또는 구)를 추출하고,  
그 단어가 의미상 가장 가까운 아래 감정 리스트의 RED, YELLOW, BLUE, GREEN 중 어디에 속하는지 분류해.

⚠️ 결과는 JSON으로, 절대 다른 텍스트 없이 아래 형식으로만 출력해줘.

출력 형식:  
{
  "feel": {
    "RED": [원문 감정 단서1, 원문 감정 단서2, ...],
    "YELLOW": [...],
    "BLUE": [...],
    "GREEN": [...]
  },
  "ratio": {
    "RED": 0.xx,
    "YELLOW": 0.xx,
    "BLUE": 0.xx,
    "GREEN": 0.xx
  }
}

⚠️ 비율 총합은 1.0이 되도록 하고, 소수점 둘째 자리까지 반올림해.

---

감정 분류 기준(정제된 감정 리스트):

RED : [ "격분한", "공황에 빠진", "스트레스 받는", "초조한", "충격받은",
  "경노한", "몸시 화가 난", "좌절한", "신경이 날카로운", "망연자실한",
  "화가 치밀어 오른", "겁먹은", "화난", "안절부절못하는",
  "불안한", "우려하는", "근심하는", "짜증나는", "거슬리는",
  "불쾌한", "골치 아픈", "염려하는", "마음이 불편한", "언짢은"]

YELLOW : ["역겨운", "침울한", "실망스러운", "의욕 없는", "냉담한",
  "비관적인", "시무룩한", "낙담한", "슬픈", "지루한",
  "소외된", "비참한", "쓸쓸한", "기죽은", "피곤한",
  "의기소침한", "우울한", "뚱한", "기진맥진한", "지친",
  "절망한", "가망 없는", "고독한", "소모된", "진이 빠진"]

BLUE : ["놀란", "긍정적인", "흥겨운", "아주 신나는", "황홀한",
  "들뜬", "쾌활한", "동기 부여된", "영감을 받은", "의기양양한",
  "기운이 넘치는", "활발한", "흥분된", "낙관적인", "열광하는",
  "만족스러운", "집중하는", "행복한", "자랑스러운", "짜릿한",
  "유쾌한", "기쁜", "희망찬", "재미있는", "더없이 행복한"]

GREEN : ["속 편한", "태평한", "자족하는", "다정한", "충만한",
  "평온한", "안전한", "만족스러운", "감사하는", "감동적인",
  "여유로운", "차분한", "편안한", "축복받은", "안정적인",
  "한가로운", "생각에 잠긴", "평화로운", "편한", "근심 걱정 없는",
  "나른한", "흐뭇한", "고요한", "안락한", "안온한"]

---

예:  
- "마음이 따뜻해졌다" → "따뜻해졌다" (GREEN)  
- "형이 갑자기 그래서 당황했다" → "당황했다" (RED)  

---

일기:  
"""  
${content}
"""
`;
}

export const GPT_TEST_PROMPT = `너는 감정 분석기야.

사용자가 작성한 일기에서 드러나는 감정 단어(또는 구)를 추출하고,  
그 단어가 의미상 가장 가까운 아래 감정 리스트의 RED, YELLOW, BLUE, GREEN 중 어디에 속하는지 분류해.

⚠️ 결과는 JSON으로, 절대 다른 텍스트 없이 아래 형식으로만 출력해줘.

출력 형식:  
{
  "feel": {
    "RED": [원문 감정 단서1, 원문 감정 단서2, ...],
    "YELLOW": [...],
    "BLUE": [...],
    "GREEN": [...]
  },
  "ratio": {
    "RED": 0.xx,
    "YELLOW": 0.xx,
    "BLUE": 0.xx,
    "GREEN": 0.xx
  }
}

⚠️ 비율 총합은 1.0이 되도록 하고, 소수점 둘째 자리까지 반올림해.

---

감정 분류 기준(정제된 감정 리스트):

RED : [ "격분한", "공황에 빠진", "스트레스 받는", "초조한", "충격받은",
  "경노한", "몸시 화가 난", "좌절한", "신경이 날카로운", "망연자실한",
  "화가 치밀어 오른", "겁먹은", "화난", "안절부절못하는",
  "불안한", "우려하는", "근심하는", "짜증나는", "거슬리는",
  "불쾌한", "골치 아픈", "염려하는", "마음이 불편한", "언짢은"]

YELLOW : ["역겨운", "침울한", "실망스러운", "의욕 없는", "냉담한",
  "비관적인", "시무룩한", "낙담한", "슬픈", "지루한",
  "소외된", "비참한", "쓸쓸한", "기죽은", "피곤한",
  "의기소침한", "우울한", "뚱한", "기진맥진한", "지친",
  "절망한", "가망 없는", "고독한", "소모된", "진이 빠진"]

BLUE : ["놀란", "긍정적인", "흥겨운", "아주 신나는", "황홀한",
  "들뜬", "쾌활한", "동기 부여된", "영감을 받은", "의기양양한",
  "기운이 넘치는", "활발한", "흥분된", "낙관적인", "열광하는",
  "만족스러운", "집중하는", "행복한", "자랑스러운", "짜릿한",
  "유쾌한", "기쁜", "희망찬", "재미있는", "더없이 행복한"]

GREEN : ["속 편한", "태평한", "자족하는", "다정한", "충만한",
  "평온한", "안전한", "만족스러운", "감사하는", "감동적인",
  "여유로운", "차분한", "편안한", "축복받은", "안정적인",
  "한가로운", "생각에 잠긴", "평화로운", "편한", "근심 걱정 없는",
  "나른한", "흐뭇한", "고요한", "안락한", "안온한"]

---

예:  
- "마음이 따뜻해졌다" → "따뜻해졌다" (GREEN)  
- "형이 갑자기 그래서 당황했다" → "당황했다" (RED)  

---

일기:  
"""  
오늘은 참 이상한 하루였다. 아침엔 날씨가 너무 좋아서 기분이 들떴는데, 회사에서 실수를 해서 상사에게 혼났다. 순간 너무 당황하고 짜증도 났지만, 동료가 도와줘서 조금 안심이 되었다. 점심시간엔 친구랑 통화했는데, 서로 응원해주는 대화를 나누니까 마음이 따뜻해졌다. 하루 끝엔 책을 읽으며 차분히 정리하는 시간을 가졌다.  
"""
`;

export const GPT_RESULT_EXAMPLE: CreateAnalysisDTO = {
  feel: {
    RED: ['당황하고', '짜증도 났'],
    YELLOW: [],
    BLUE: ['기분이 들떠서', '응원해주는 대화'],
    GREEN: ['안심이 되었다', '마음이 따뜻해졌다', '차분히'],
  },
  ratio: {
    RED: 0.27,
    YELLOW: 0,
    BLUE: 0.2,
    GREEN: 0.53,
  },
};
